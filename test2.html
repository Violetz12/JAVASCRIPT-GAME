<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Escape Room Adventure</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #222;
        color: white;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        overflow: hidden;
      }

      #game-container {
        width: 800px;
        height: 500px;
        background-color: #333;
        border-radius: 10px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        position: relative;
        overflow: hidden;
      }

      .screen {
        position: absolute;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.5s;
      }

      .screen.active {
        opacity: 1;
        pointer-events: all;
      }

      h1 {
        font-size: 2.5rem;
        margin-bottom: 20px;
        text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
      }

      button {
        padding: 12px 24px;
        font-size: 1.2rem;
        background-color: #0088cc;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin: 10px;
        transition: transform 0.2s, background-color 0.2s;
      }

      button:hover {
        background-color: #00aaff;
        transform: scale(1.05);
      }

      .room {
        width: 100%;
        height: 100%;
        background-size: cover;
        position: relative;
      }

      .item {
        position: absolute;
        cursor: pointer;
        transition: transform 0.2s;
      }

      .item:hover {
        transform: scale(1.1);
      }

      #inventory {
        position: absolute;
        bottom: 10px;
        left: 10px;
        display: flex;
        gap: 10px;
        background-color: rgba(0, 0, 0, 0.5);
        padding: 10px;
        border-radius: 5px;
      }

      .inventory-item {
        width: 40px;
        height: 40px;
        background-color: #555;
        border-radius: 5px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 20px;
      }

      #message-box {
        position: absolute;
        top: 10px;
        left: 50%;
        transform: translateX(-50%);
        background-color: rgba(0, 0, 0, 0.7);
        padding: 10px 20px;
        border-radius: 5px;
        opacity: 0;
        transition: opacity 0.3s;
      }
    </style>
  </head>
  <body>
    <div id="game-container">
      <!-- Start Screen -->
      <div id="start-screen" class="screen active">
        <h1>ESCAPE ROOM ADVENTURE</h1>
        <p>
          You're trapped in a series of mysterious rooms. Can you escape all
          three?
        </p>
        <button id="start-btn">START GAME</button>
      </div>

      <!-- Level 1 -->
      <div id="level1" class="screen">
        <div class="room" style="background-color: #553322">
          <h2 style="position: absolute; top: 10px; left: 10px; margin: 0">
            Level 1: The Study
          </h2>

          <div
            id="key1"
            class="item"
            style="
              top: 250px;
              left: 200px;
              width: 30px;
              height: 15px;
              background-color: gold;
              border-radius: 5px;
            "
          >
            üîë
          </div>

          <div
            id="book"
            class="item"
            style="
              top: 150px;
              left: 400px;
              width: 40px;
              height: 60px;
              background-color: brown;
              color: white;
              display: flex;
              justify-content: center;
              align-items: center;
            "
          >
            üìñ
          </div>

          <div
            id="door1"
            class="item"
            style="
              top: 150px;
              right: 100px;
              width: 80px;
              height: 200px;
              background-color: #442211;
              border: 2px solid #331100;
              display: flex;
              justify-content: center;
              align-items: center;
            "
          >
            üö™
          </div>

          <div
            id="note1"
            class="item"
            style="
              top: 300px;
              left: 500px;
              width: 50px;
              height: 50px;
              background-color: white;
              color: black;
              display: flex;
              justify-content: center;
              align-items: center;
            "
          >
            üìù
          </div>
        </div>
      </div>

      <!-- Level 2 -->
      <div id="level2" class="screen">
        <div class="room" style="background-color: #224466">
          <h2
            style="
              position: absolute;
              top: 10px;
              left: 10px;
              margin: 0;
              color: white;
            "
          >
            Level 2: The Laboratory
          </h2>

          <div
            id="flask"
            class="item"
            style="top: 200px; left: 300px; font-size: 36px"
          >
            üß™
          </div>

          <div
            id="button"
            class="item"
            style="
              top: 350px;
              left: 500px;
              width: 60px;
              height: 60px;
              background-color: red;
              border-radius: 50%;
              border: 3px solid #999;
              display: flex;
              justify-content: center;
              align-items: center;
              color: white;
            "
          >
            PUSH
          </div>

          <div
            id="key2"
            class="item"
            style="
              top: 100px;
              left: 600px;
              width: 30px;
              height: 15px;
              background-color: silver;
              border-radius: 5px;
              opacity: 0;
            "
          >
            üîë
          </div>

          <div
            id="door2"
            class="item"
            style="
              top: 150px;
              right: 100px;
              width: 80px;
              height: 200px;
              background-color: #113355;
              border: 2px solid #002244;
              display: flex;
              justify-content: center;
              align-items: center;
            "
          >
            üö™
          </div>
        </div>
      </div>

      <!-- Level 3 -->
      <div id="level3" class="screen">
        <div class="room" style="background-color: #336633">
          <h2 style="position: absolute; top: 10px; left: 10px; margin: 0">
            Level 3: The Garden
          </h2>

          <div
            id="plant"
            class="item"
            style="top: 250px; left: 200px; font-size: 48px"
          >
            üåµ
          </div>

          <div
            id="stone"
            class="item"
            style="
              top: 350px;
              left: 400px;
              width: 50px;
              height: 30px;
              background-color: gray;
              border-radius: 10px;
            "
          ></div>

          <div
            id="key3"
            class="item"
            style="top: 350px; left: 400px; opacity: 0; font-size: 24px"
          >
            üîë
          </div>

          <div
            id="chest"
            class="item"
            style="top: 200px; left: 600px; font-size: 36px"
          >
            üì¶
          </div>

          <div
            id="final-door"
            class="item"
            style="
              top: 150px;
              right: 100px;
              width: 80px;
              height: 200px;
              background-color: #225522;
              border: 2px solid #114411;
              display: flex;
              justify-content: center;
              align-items: center;
            "
          >
            üö™
          </div>
        </div>
      </div>

      <!-- Win Screen -->
      <div id="win-screen" class="screen">
        <h1>YOU ESCAPED!</h1>
        <p>
          Congratulations! You solved all the puzzles and escaped the rooms!
        </p>
        <button id="restart-btn">PLAY AGAIN</button>
      </div>

      <!-- Game UI Elements -->
      <div id="inventory">
        <div class="inventory-item" id="inv-slot1"></div>
        <div class="inventory-item" id="inv-slot2"></div>
        <div class="inventory-item" id="inv-slot3"></div>
      </div>

      <div id="message-box">Message appears here</div>
    </div>

    <script>
      // Game state
      let currentLevel = 0;
      let inventory = [];

      // DOM Elements
      const screens = document.querySelectorAll(".screen");
      const startBtn = document.getElementById("start-btn");
      const restartBtn = document.getElementById("restart-btn");
      const messageBox = document.getElementById("message-box");

      // Inventory slots
      const invSlot1 = document.getElementById("inv-slot1");
      const invSlot2 = document.getElementById("inv-slot2");
      const invSlot3 = document.getElementById("inv-slot3");

      // Show message function
      function showMessage(text, duration = 2000) {
        messageBox.textContent = text;
        messageBox.style.opacity = 1;

        setTimeout(() => {
          messageBox.style.opacity = 0;
        }, duration);
      }

      // Change screen function
      function showScreen(screenIndex) {
        screens.forEach((screen) => screen.classList.remove("active"));
        screens[screenIndex].classList.add("active");
        currentLevel = screenIndex;
      }

      // Add item to inventory
      function addToInventory(itemName, emoji) {
        if (inventory.length < 3) {
          inventory.push({ name: itemName, emoji: emoji });
          updateInventoryDisplay();
          return true;
        }
        showMessage("Inventory full!");
        return false;
      }

      // Remove item from inventory
      function removeFromInventory(itemName) {
        const index = inventory.findIndex((item) => item.name === itemName);
        if (index !== -1) {
          inventory.splice(index, 1);
          updateInventoryDisplay();
          return true;
        }
        return false;
      }

      // Check if item is in inventory
      function hasItem(itemName) {
        return inventory.some((item) => item.name === itemName);
      }

      // Update inventory display
      function updateInventoryDisplay() {
        invSlot1.textContent = inventory[0] ? inventory[0].emoji : "";
        invSlot2.textContent = inventory[1] ? inventory[1].emoji : "";
        invSlot3.textContent = inventory[2] ? inventory[2].emoji : "";
      }

      // Start the game
      startBtn.addEventListener("click", () => {
        showScreen(1); // Show Level 1
        showMessage("Find a way to escape this room.", 3000);
      });

      // Restart the game
      restartBtn.addEventListener("click", () => {
        // Reset game state
        inventory = [];
        updateInventoryDisplay();

        // Reset items
        document.getElementById("key1").style.opacity = 1;
        document.getElementById("key1").style.pointerEvents = "auto";

        document.getElementById("key2").style.opacity = 0;
        document.getElementById("key2").style.pointerEvents = "none";

        document.getElementById("key3").style.opacity = 0;
        document.getElementById("key3").style.pointerEvents = "none";

        // Show start screen
        showScreen(0);
      });

      // Level 1 interactions
      document.getElementById("key1").addEventListener("click", () => {
        if (addToInventory("key1", "üîë")) {
          document.getElementById("key1").style.opacity = 0;
          document.getElementById("key1").style.pointerEvents = "none";
          showMessage("You found a key!");
        }
      });

      document.getElementById("book").addEventListener("click", () => {
        showMessage(
          "The book contains strange symbols. Looks like a puzzle hint."
        );
      });

      document.getElementById("note1").addEventListener("click", () => {
        showMessage("The note says: 'Use the golden key to unlock the door.'");
      });

      document.getElementById("door1").addEventListener("click", () => {
        if (hasItem("key1")) {
          removeFromInventory("key1");
          showMessage("You unlocked the door!");
          setTimeout(() => {
            showScreen(2); // Show Level 2
            showMessage(
              "You entered the laboratory. Find another way out.",
              3000
            );
          }, 1500);
        } else {
          showMessage("The door is locked. You need a key.");
        }
      });

      // Level 2 interactions
      document.getElementById("flask").addEventListener("click", () => {
        showMessage("A bubbling chemical flask. Probably shouldn't drink it.");
      });

      document.getElementById("button").addEventListener("click", () => {
        document.getElementById("key2").style.opacity = 1;
        document.getElementById("key2").style.pointerEvents = "auto";
        showMessage(
          "You pressed the button and something dropped from the ceiling!"
        );
      });

      document.getElementById("key2").addEventListener("click", () => {
        if (addToInventory("key2", "üîë")) {
          document.getElementById("key2").style.opacity = 0;
          document.getElementById("key2").style.pointerEvents = "none";
          showMessage("You found another key!");
        }
      });

      document.getElementById("door2").addEventListener("click", () => {
        if (hasItem("key2")) {
          removeFromInventory("key2");
          showMessage("You unlocked the second door!");
          setTimeout(() => {
            showScreen(3); // Show Level 3
            showMessage("You entered the garden. Find the final exit!", 3000);
          }, 1500);
        } else {
          showMessage("This door needs a different key.");
        }
      });

      // Level 3 interactions
      document.getElementById("plant").addEventListener("click", () => {
        showMessage(
          "A strange plant. It seems to be pointing toward something."
        );
      });

      document.getElementById("stone").addEventListener("click", () => {
        document.getElementById("stone").style.opacity = 0;
        document.getElementById("stone").style.pointerEvents = "none";
        document.getElementById("key3").style.opacity = 1;
        document.getElementById("key3").style.pointerEvents = "auto";
        showMessage("You moved the stone and found something!");
      });

      document.getElementById("key3").addEventListener("click", () => {
        if (addToInventory("key3", "üîë")) {
          document.getElementById("key3").style.opacity = 0;
          document.getElementById("key3").style.pointerEvents = "none";
          showMessage("You found the final key!");
        }
      });

      document.getElementById("chest").addEventListener("click", () => {
        showMessage("A locked chest. Maybe you'll find the key later.");
      });

      document.getElementById("final-door").addEventListener("click", () => {
        if (hasItem("key3")) {
          removeFromInventory("key3");
          showMessage("You unlocked the final door!");
          setTimeout(() => {
            showScreen(4); // Show Win Screen
          }, 1500);
        } else {
          showMessage("The final door is locked. Find the last key!");
        }
      });
    </script>
  </body>
</html>
